
### `@triphub` 实际涉及的表（共 6 张）
- `user`
- `trip`
- `trip_day`
- `trip_item`
- `user_profile`
- `trip_favorite`

### 可直接渲染的 Mermaid ER 图（字段 + 关系）
```mermaid
erDiagram
    USER {
        bigint id PK
        string phone UK
        string nickname
        string avatar
        int level
        int status
        datetime create_time
        datetime update_time
        bigint create_user
        bigint update_user
    }

    TRIP {
        bigint id PK
        bigint user_id FK
        string title
        string destination_city
        date start_date
        date end_date
        int days
        int visibility
        int like_count
        int view_count
        datetime create_time
        datetime update_time
        bigint create_user
        bigint update_user
    }

    TRIP_DAY {
        bigint id PK
        bigint trip_id FK
        int day_index
        string note
    }

    TRIP_ITEM {
        bigint id PK
        bigint trip_day_id FK
        string type
        bigint place_id
        time start_time
        time end_time
        string memo
    }

    USER_PROFILE {
        bigint id PK
        bigint user_id FK
        string profile_json
        datetime create_time
        datetime update_time
        bigint create_user
        bigint update_user
    }

    TRIP_FAVORITE {
        bigint id PK
        bigint user_id FK
        bigint trip_id FK
        datetime create_time
    }

    USER ||--o{ TRIP : creates
    TRIP ||--o{ TRIP_DAY : has
    TRIP_DAY ||--o{ TRIP_ITEM : contains
    USER ||--|| USER_PROFILE : profile
    USER ||--o{ TRIP_FAVORITE : favorites
    TRIP ||--o{ TRIP_FAVORITE : is_favorited
```

补充两点和 SQL 一致的约束（Mermaid 里不太好“画出来”但我在这里注明）：
- **`user.phone`** 是唯一索引（`uk_user_phone`）
- **`user_profile.user_id`** 唯一（1:1 画像）
- **`trip_favorite(user_id, trip_id)`** 复合唯一（防止重复收藏）
- **`trip_item.place_id`** 在当前 schema 里**没有对应表**（所以图里只能保留字段，无法画出指向的实体）